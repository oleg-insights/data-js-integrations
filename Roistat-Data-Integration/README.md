# Roistat Data Integration: комплексное отслеживание событий и форм

### Решаемая проблема

Платформенная **серверная интеграция** с Roistat была неработоспособна на протяжении длительного времени, что полностью блокировало передачу критически важных данных о поведении пользователей (лиды, события, детали заказов) в CRM.

### Решение

Разработана автономная клиентская интеграция, которая перехватывает 7 ключевых событий на сайте (от открытия модальных окон до отправки форм) и мгновенно передает их в Roistat.

Скрипт выполняет:
1. **Парсинг данных:** собирает все параметры, связанные с событием (например, имя товара, ID модального окна, GET-параметры).
2. **Идентификацию:** извлекает Google Client ID из cookies для точного сопоставления пользователя в Roistat.
3. **Форматирование:** сериализует и структурирует данные (корзина, формы) перед отправкой, обеспечивая их корректное отображение в Roistat.

### Подход

Решение построено как отказоустойчивый микро-фреймворк, разработанный специально под платформу Creatium:

* **События:** использует обработчики событий для точного отслеживания действий пользователя.
* **Асинхронность:** использует асинхронную логику (Promises) для многоступенчатой проверки: загрузки DOM, готовности модулей Roistat и диагностики блокировки запросов браузером.
* **Самодиагностика:** выводит в консоль цветные, структурированные сообщения о критических ошибках и этапах работы в реальном времени, что значительно упрощает поддержку.

### Технологии

* JavaScript
* Creatium API
* Roistat API

### Концепции

* Event-Driven Architecture (EDA)
* Асинхронность (Promises)
* Отказоустойчивость
* Сериализация данных
